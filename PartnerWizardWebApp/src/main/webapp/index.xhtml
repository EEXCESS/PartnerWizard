<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:syn="http://richfaces.org/sandbox/syntaxhighlighter"
	xmlns:eexcess="http://www.eexcess.eu/partnersetup">

<body>
	<ui:composition template="/templates/template.xhtml">

		<ui:define name="title">EEXCESS PartnerRecommender Setup</ui:define>

		<ui:define name="body">
			<h:form styleClass="form-horizontal" id="formID">
				<h2>General Settings</h2>
				<fieldset>
					<!-- Form Name -->
					<legend>Parameter</legend>

					<!-- Text input-->
					<div class="control-group">
						<label class="control-label" for="textinput">groupId:</label>
						<div class="controls">
							<h:inputText value="#{bean.groupId}" styleClass="form-control" />
							<p class="help-block">id used in the Maven-Repository (e.g
								eu.eexcess)</p>
						</div>
					</div>

					<div class="control-group">
						<label class="control-label" for="textinput">artifactId:</label>
						<div class="controls">
							<h:inputText value="#{bean.artifactId}" styleClass="form-control" />
							<p class="help-block">id used in the Maven-Repository (e.g
								MyPR)</p>
						</div>
					</div>

					<div class="control-group">
						<label class="control-label" for="textinput">version:</label>
						<div class="controls">
							<h:inputText value="#{bean.version}" styleClass="form-control" />
							<p class="help-block">version used in the Maven-Repository
								(e.g 1.0)</p>
						</div>
					</div>

					<div class="control-group">
						<label class="control-label" for="textinput">package:</label>
						<div class="controls">
							<h:inputText value="#{bean.packageStr}" styleClass="form-control" />
							<p class="help-block">java package, can be the same as the
								groupId (e.g eu.eexcess)</p>
						</div>
					</div>

					<div class="control-group">
						<label class="control-label" for="textinput">partnerName:</label>
						<div class="controls">
							<h:inputText value="#{bean.partnerName}"
								styleClass="form-control" />
							<p class="help-block">Name of the Partner</p>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="textinput">partnerURL:</label>
						<div class="controls">
							<h:inputText value="#{bean.partnerURL}" styleClass="form-control" />
							<p class="help-block">URL of the Partner - used in EEXCESS
								XML</p>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="textinput">data license:</label>
						<div class="controls">
							<h:inputText value="#{bean.dataLicense}"
								styleClass="form-control" />
							<p class="help-block">License of the meta data</p>
						</div>
					</div>
				</fieldset>
				
				<h2>configure Search API</h2>
				<rich:collapsiblePanel header="Overview" switchType="client">
					<eexcess:mapping mappingFor="search" mappingBean="#{bean.searchMappingConfig}"></eexcess:mapping>
				</rich:collapsiblePanel>

				<div class="row">
					<div>
						<h2>Create PartnerRecommender/project</h2>
						<a4j:commandButton value="Build" render="out" execute="@form"
							action="#{bean.generatePR}" styleClass="btn btn-primary" />

						<h:panelGroup id="out">
							<h3>mvn command:</h3>
							<p>
								<h:outputText value="#{bean.buildCMD}" styleClass="outhello" />
							</p>
							<h3>Result:</h3>
							<p>
								<h:inputTextarea rows="40" cols="120"
									value="#{bean.buildOutput}" readonly="true" />
							</p>
						</h:panelGroup>
						<p>
							<h:commandLink action="#{bean.downloadWAR}" value="Download WAR" />
						</p>
						<p>
							<h:commandLink action="#{bean.createSourceZIP}"
								value="create Source ZIP" />
						</p>
						<p>
							<h:commandLink action="#{bean.downloadSourceZIP}"
								value="Download Source ZIP" />
						</p>
					</div>
				</div>
			</h:form>

			<br />

			<br />


		</ui:define>
	</ui:composition>
</body>
</html>